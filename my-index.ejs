<!DOCTYPE html>
<html class="cbioportal-frontend">
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <link rel="icon" href="/images/cbioportal_icon.png"/>
    <title>cBioPortal for Cancer Genomics</title>
    <script>

        window.devContext = true;
        window.frontendConfig = {
        API_ROOT: "https://web-production-0931b.up.railway.app/api"
    }

        /* REMOVED: This is an example of how to add custom tabs to the patient page. Enabling this will clobber localStorage.frontendConfig that is set through the browser console
        localStorage.frontendConfig = JSON.stringify(
        {
            serverConfig:{

                custom_tabs:[
                    {
                        title: 'Sync Tab',
                        id: 'customTab1',
                        location: 'PATIENT_PAGE',
                        mountCallback: `(div)=>{
                                $(div).html("tab for patient " + window.location.search.split("=").slice(-1))
                            }`,
                    },
                    {
                        title: 'Async Tab',
                        id: 'customTab2',
                        location: 'PATIENT_PAGE',
                        hideAsync: `()=>{
                                    return new Promise((resolve)=>{
                                            setTimeout(()=>{
                                                resolve(true);
                                            }, 2000);
                                    });
                                }`,
                    },
                ]
            }
        });
        */

    function renderCustomTab1(div, tab){
        $(div).append(`<div>this is the content for <strong>${tab.title}</strong></div>`);
    }


    </script>
    <script src="/reactapp/common.bundle.js"></script>

    <link href="/reactapp/prefixed-bootstrap.min.css" rel="stylesheet"></link>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" />
</head>
<body>
<div id="reactRoot"></div>

<!-- Add this below your reactRoot div, before </body> -->
<button onclick="testStudiesApi()">Test Studies API</button>
<script>
function testStudiesApi() {
    fetch(window.frontendConfig.API_ROOT + '/studies?projection=SUMMARY&pageSize=10&pageNumber=0&sortBy=studyId&direction=ASC')
      .then(response => response.json())
      .then(data => {
        console.log(data);
        alert('Check console for API response!');
      })
      .catch(error => {
        console.error('Error:', error);
        alert('API request failed. See console for details.');
      });
}
</script>

</body>
</html>

